{"remainingRequest":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\src\\components\\bottomNav.vue?vue&type=style&index=0&id=7edb21d0&lang=less&scoped=true&","dependencies":[{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\src\\components\\bottomNav.vue","mtime":1585972675000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.topNav{\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    perspective:1200px;\n\n    .container{\n        width: 80%;\n        height: 100%;\n        border-top-right-radius: 20px;\n        border-top-left-radius: 20px;\n        padding: 0px 40px;\n        background-image: linear-gradient(141deg,rgb(173, 38, 38) 0%,rgb(204, 30, 30) 75%);\n        transform: rotateX(30deg);\n        perspective:1200px;\n        z-index: 2;\n    }\n    .inner-box{\n        height: 90%;\n        width: 75%;\n        position: absolute;\n        z-index: 4;\n        background-color: transparent;\n        display: flex;\n\n        .left{\n            flex: 1;\n            height: 100%;\n            width: 100%;\n            display: flex;\n\n            .home,.selected,.addvolume,.reducevolume{\n                height: 100%;\n                flex: 1;\n                font-size: 50px;\n                text-align: center;\n                color: rgb(196, 196, 26);\n                div{\n                    font-size: 20px;\n                }\n                cursor: pointer;\n            }\n\n            .selected,.selected,.addvolume,.reducevolume{\n                color: rgb(219, 217, 217);\n                &:hover{\n                    color: rgb(196, 196, 26);\n                }\n            }\n        }\n        .middle{\n            flex: 1;\n            height: 100%;\n            width: 100%;\n            display: flex;\n            padding: 3px 50px;\n            align-items: center;\n            justify-content: center;\n            position: relative;\n            img{\n                width: 100%;\n                height: 100%;\n                border-radius: 5px;\n                filter: blur(1px);\n                z-index: 2;\n            }\n            &:hover{\n                .control-btn{\n                    display: flex;\n                }\n            }\n\n            .control-btn{\n                position: absolute;\n                width: 78%;\n                height: 100%;\n                z-index: 20;\n                background-color: rgba(0, 0, 0, .3);\n                display: none;\n\n                .prev-btn, .play, .next-btn{\n                    flex: 1;\n                    text-align: center;\n                    line-height: 110px;\n                    font-size: 60px;\n                    color: rgb(220, 225, 228);\n                    cursor: pointer;\n\n                    &:hover{\n                        transform: scale(1.02);\n                        color: rgb(120, 129, 138);\n                    }\n                }\n                .prev-btn{\n                    text-align: left;\n                    padding-left: 10px;\n                }\n                .next-btn{\n                    text-align: right;\n                    padding-right: 10px;\n                }\n            }\n        }\n        .right{\n            flex: 1;\n            height: 100%;\n            width: 100%;\n            display: flex;\n\n            .minormax,.single-cycle, .order-cycle, .login{\n                height: 100%;\n                flex: 1;\n                font-size: 50px;\n                text-align: center;\n                color: rgb(35, 14, 153);\n                div{\n                    font-size: 20px;\n                }\n                cursor: pointer;\n            }\n            .single-cycle, .order-cycle, .minormax{\n                color: rgb(221, 222, 223);\n                &:hover{\n                    color: rgb(196, 196, 26);\n                }\n            }\n        }\n\n    }\n}\n",{"version":3,"sources":["bottomNav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAidA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"bottomNav.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"topNav\">\n        <div class=\"container\"></div>\n        <div class=\"inner-box\">\n            <div class=\"left\">\n                <div class=\"home\" @click=\"goHome\">\n                    <Icon type=\"ios-home\" />\n                    <div>首页</div>\n                </div>\n                <div class=\"selected\" @click=\"selected\">\n                    <Icon type=\"ios-musical-notes\" />\n                    <div>已选</div>\n                </div>\n                <div class=\"addvolume\" @click=\"addvolume\">\n                    <Icon type=\"ios-volume-up\" />\n                    <div>音量+</div>\n                </div>\n                <div class=\"reducevolume\" @click=\"reducevolume\">\n                    <Icon type=\"ios-volume-mute\" />\n                    <div>音量-</div>\n                </div>\n            </div>\n            <div class=\"middle\">\n                <img :src=\"currentPoster\" alt=\"\">\n                <div class=\"control-btn\">\n                    <div class=\"prev-btn\" @click=\"playPrev\">\n                        <Icon type=\"ios-rewind\" />\n                    </div>\n                    <div class=\"play\" @click=\"playOrpause\">\n                        <Icon type=\"ios-play\" id=\"ios-play\" />\n                        <Icon type=\"ios-pause\" id=\"ios-pause\" />\n                    </div>\n                    <div class=\"next-btn\" @click=\"playNext\">\n                        <Icon type=\"ios-fastforward\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"right\">\n                <div class=\"minormax\" @click=\"minOrmax\">\n                    <Icon type=\"md-volume-off\" />\n                    <div>静音</div>\n                </div>\n                <div class=\"single-cycle\" @click=\"singleCycle\">\n                    <Icon type=\"md-sync\" />\n                    <div>单曲</div>\n                </div>\n                <div class=\"order-cycle\" @click=\"orderCycle\">\n                    <Icon type=\"md-swap\" />\n                    <div>顺序</div>\n                </div>\n                <div class=\"login\">\n                    <span v-if=\"!isLogin\" @click=\"loginModal = true\">\n                        <Icon type=\"md-log-in\" />\n                        <div>登录</div>\n                    </span>\n                    <span v-if=\"isLogin\" @click=\"logout\">\n                        <Icon type=\"md-log-out\" />\n                        <div>下机</div>\n                    </span>\n                </div>\n            </div>\n        </div>\n\n        <Modal v-model=\"loginModal\" width=\"450\">\n            <p slot=\"header\" style=\"color:#f60;text-align:center\">\n                <Icon type=\"logo-pinterest\" />\n                <span> 请登录</span>\n            </p>\n            <div v-if=\"loginModal\">\n                <div class=\"ranklistbox\" style=\"width:100%;padding:0px 2px;\">\n                    <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"55px\">\n                        <el-form-item label=\"账号:\" prop=\"account\" >\n                            <el-input type=\"account\" v-model=\"ruleForm.account\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"密码:\" prop=\"password\">\n                            <el-input type=\"password\" @keypress.enter.native=\"submit('ruleForm')\" v-model=\"ruleForm.password\"></el-input>\n                        </el-form-item>\n                    </el-form>\n                </div>\n            </div>\n            <div slot=\"footer\" v-if=\"loginModal\">\n                <Row>\n                    <Button type=\"success\" long @click=\"submit('ruleForm')\">登录</Button>\n                </Row>\n            </div>\n        </Modal>\n\n        <audio autoplay id=\"musicPlayer\" ref=\"musicPlayer\" @ended=\"end\" :src=\"'http://localhost:8633/api/music/nowmusic?id=' + currentSong._id\" preload=\"auto\"></audio>\n    </div>\n</template>\n<script>\nimport nextSong from \"@/config/nextSong\"\nimport prevSong from \"@/config/prevSong\"\nimport hasLogin from '@/config/isLogin'\nimport jwt_decode from \"jwt-decode\"\nimport wsmLoading from \"@/plugins/wsmLoading\"\nexport default {\n    name:\"bottomNav\",\n    data(){\n        return{\n            loginModal:false,\n            ruleForm:{\n                account:\"\",\n                password:\"\"\n            },\n            rules:{\n                account:[\n                    {required:true, message:\"账号不能为空\", trigger:\"change\"}\n                ],\n                password:[\n                    {required:true, message:\"密码不能为空\", trigger:\"change\"}\n                ]\n            },\n        }\n    },\n    mounted(){\n        setTimeout(() => {\n            this.currentSong = JSON.parse(localStorage.currentSong)[0] ? JSON.parse(localStorage.currentSong)[0] : {_id:0};\n            if(localStorage.play == \"0\"){\n                this.$refs.musicPlayer.pause();\n                $(\"#ios-play\").fadeIn();\n                $(\"#ios-pause\").fadeOut();\n                \n            }else{\n                $(\"#ios-play\").fadeOut();\n                $(\"#ios-pause\").fadeIn();\n                this.$refs.musicPlayer.play();\n            }\n        }, 200)\n    },\n    created(){\n        // this.currentSong = JSON.parse(localStorage.currentSong)[0] ? JSON.parse(localStorage.currentSong)[0] : {_id:0};\n    },\n    methods:{\n        end(){\n            if(localStorage.playModle == 1){\n                const song = nextSong();\n                this.$refs.musicPlayer.src = \"http://localhost:8633/api/music/nowmusic?id=\" + song._id\n                const obj = [song];\n                localStorage.setItem(\"currentSong\", JSON.stringify(obj))\n                this.currentSong = song;\n            }else{\n                this.$refs.musicPlayer.play();\n            }\n        },\n        // 播放上一首\n        playPrev(){\n            if(hasLogin()){\n                if(localStorage.play == \"0\"){\n                    if(this.$refs.musicPlayer.src.split(\"?\")[1] == \"id=0\"){\n                        this.$confirm(\"请先添加歌曲\", \"提示\", {\n                            confirmButtonText:\"确定\",\n                            cancelButtonText:\"取消\",\n                            type:\"warning\"\n                        }).then(() => {}).catch(() => {})\n                        \n                    }else{\n                        const song = prevSong();\n                        this.$refs.musicPlayer.src = \"http://localhost:8633/api/music/nowmusic?id=\" + song._id\n                        const obj = [song];\n                        localStorage.setItem(\"currentSong\", JSON.stringify(obj))\n                        this.currentSong = song;\n                        setTimeout(() => {\n                            $(\"#ios-play\").fadeIn();\n                            $(\"#ios-pause\").fadeOut();\n                            this.$refs.musicPlayer.pause();\n                        }, 10)\n                    }\n                }else{\n                    if(this.$refs.musicPlayer.src.split(\"?\")[1] == \"id=0\"){\n                        this.$confirm(\"请先添加歌曲\", \"提示\", {\n                            confirmButtonText:\"确定\",\n                            cancelButtonText:\"取消\",\n                            type:\"warning\"\n                        }).then(() => {}).catch(() => {})\n                        \n                    }else{\n                        const song = prevSong();\n                        this.$refs.musicPlayer.src = \"http://localhost:8633/api/music/nowmusic?id=\" + song._id\n                        const obj = [song];\n                        localStorage.setItem(\"currentSong\", JSON.stringify(obj))\n                        this.currentSong = song;\n                        setTimeout(() => {\n                            $(\"#ios-play\").fadeOut();\n                            $(\"#ios-pause\").fadeIn();\n                            this.$refs.musicPlayer.play();\n                        }, 10)\n                    }\n                }\n            }else{\n                this.loginModal = true;\n            }\n        },\n        // 播放或暂停\n        playOrpause(){\n            if(hasLogin()){\n                if(this.$refs.musicPlayer.src.split(\"?\")[1] == \"id=0\"){\n                    this.$confirm(\"请先添加歌曲\", \"提示\", {\n                        confirmButtonText:\"确定\",\n                        cancelButtonText:\"取消\",\n                        type:\"warning\"\n                    }).then(() => {}).catch(() => {})\n                }else if(this.$store.getters.songList.length == 1){\n                    console.log(111)\n                    const song = nextSong();\n                    this.$refs.musicPlayer.src = \"http://localhost:8633/api/music/nowmusic?id=\" + song._id\n                    const obj = [song];\n                    localStorage.setItem(\"currentSong\", JSON.stringify(obj))\n                    this.currentSong = song;\n                    if(localStorage.play == \"0\"){\n                        this.$refs.musicPlayer.play();\n                        $(\"#ios-play\").fadeOut();\n                        $(\"#ios-pause\").fadeIn();\n                        localStorage.play = 1;\n                    }else{\n                        this.$refs.musicPlayer.pause();\n                        $(\"#ios-play\").fadeIn();\n                        $(\"#ios-pause\").fadeOut();\n                        localStorage.play = 0;\n                    }\n                }else{\n                    if(this.$refs.musicPlayer.paused){\n                        this.$refs.musicPlayer.play();\n                        $(\"#ios-play\").fadeOut();\n                        $(\"#ios-pause\").fadeIn();\n                        localStorage.play = 1;\n                    }else{\n                        this.$refs.musicPlayer.pause();\n                        $(\"#ios-play\").fadeIn();\n                        $(\"#ios-pause\").fadeOut();\n                        localStorage.play = 0;\n                    }\n                }\n            }else{\n                this.loginModal = true;\n            }\n        },\n        // 播放下一首\n        playNext(){\n            if(hasLogin()){\n                if(localStorage.play == '0'){\n                    console.log(11)\n                    if(this.$refs.musicPlayer.src.split(\"?\")[1] == \"id=0\"){\n                        this.$confirm(\"请先添加歌曲\", \"提示\", {\n                            confirmButtonText:\"确定\",\n                            cancelButtonText:\"取消\",\n                            type:\"warning\"\n                        }).then(() => {}).catch(() => {})\n                        \n                    }else{\n                        const song = nextSong();\n                        this.$refs.musicPlayer.src = \"http://localhost:8633/api/music/nowmusic?id=\" + song._id\n                        const obj = [song];\n                        localStorage.setItem(\"currentSong\", JSON.stringify(obj))\n                        this.currentSong = song;\n                        \n                        setTimeout(() => {\n                            $(\"#ios-play\").fadeIn();\n                            $(\"#ios-pause\").fadeOut();\n                            this.$refs.musicPlayer.pause();\n                        }, 10)\n                    }\n                }else{\n                    if(this.$refs.musicPlayer.src.split(\"?\")[1] == \"id=0\"){\n                        this.$confirm(\"请先添加歌曲\", \"提示\", {\n                            confirmButtonText:\"确定\",\n                            cancelButtonText:\"取消\",\n                            type:\"warning\"\n                        }).then(() => {}).catch(() => {})\n                        \n                    }else{\n                        const song = nextSong();\n                        this.$refs.musicPlayer.src = \"http://localhost:8633/api/music/nowmusic?id=\" + song._id\n                        const obj = [song];\n                        localStorage.setItem(\"currentSong\", JSON.stringify(obj))\n                        this.currentSong = song;\n                        \n                        setTimeout(() => {\n                            $(\"#ios-play\").fadeOut();\n                            $(\"#ios-pause\").fadeIn();\n                            this.$refs.musicPlayer.play();\n                        }, 10)\n                    }\n                }\n            }else{\n                this.loginModal = true;\n            }\n        },\n        // 顺序播放\n        orderCycle(){\n            if(hasLogin()){\n                $(\".order-cycle\").css(\"color\",\"rgb(196, 196, 26)\");\n                $(\".single-cycle\").css(\"color\",\"rgb(219, 217, 217)\");\n                this.$store.setPlayModle = 1;\n                nextSong();\n                localStorage.setItem(\"playModle\", 1);\n            }else{\n                this.loginModal = true;\n            }\n        },\n        // 单曲循环\n        singleCycle(){\n            if(hasLogin()){\n                $(\".single-cycle\").css(\"color\",\"rgb(196, 196, 26)\");\n                $(\".order-cycle\").css(\"color\",\"rgb(219, 217, 217)\");\n                this.$store.setPlayModle = -1;\n                nextSong();\n                localStorage.setItem(\"playModle\", -1);\n            }else{\n                this.loginModal = true;\n            }\n        },\n        // 静音或最大\n        minOrmax(){\n            if(hasLogin()){\n                if(this.$refs.musicPlayer.volume == 0){\n                    this.$refs.musicPlayer.volume = 1;\n                    $(\".minormax\").css(\"color\",\"rgb(219, 217, 217)\")\n                }else{\n                    this.$refs.musicPlayer.volume = 0\n                    $(\".minormax\").css(\"color\",\"rgb(196, 196, 26)\")\n                }\n            }else{\n                this.loginModal = true;\n            }\n        },\n        // 减小音量\n        reducevolume(){\n            if(hasLogin()){\n                $(\".minormax\").css(\"color\",\"rgb(219, 217, 217)\")\n                if(this.$refs.musicPlayer.volume > 0.05){\n                    this.$refs.musicPlayer.volume -= 0.05;\n                }else{\n                    this.$refs.musicPlayer.volume = 0;\n                }\n            }else{\n                this.loginModal = true;\n            }\n        },\n        // 增加音量\n        addvolume(){\n            if(hasLogin()){\n                $(\".minormax\").css(\"color\",\"rgb(219, 217, 217)\")\n                if(this.$refs.musicPlayer.volume < 0.95){\n                    this.$refs.musicPlayer.volume += 0.05;\n                }else{\n                    this.$refs.musicPlayer.volume = 1;\n                }\n            }else{\n                this.loginModal = true;\n            }\n        },\n        // 回首页\n        goHome(){\n            this.$route.path == \"/home/index\" ? console.log(\"不能前进了\") : this.$router.push(\"/\")\n        },\n        // 去已选界面\n        selected(){\n            if(hasLogin()){\n                this.$router.push(\"/home/selected\");\n            }else{\n                this.loginModal = true;\n            }\n        },\n        // 登录\n        submit(formName){\n            this.$refs[formName].validate(valid => {\n                if(valid){\n                    wsmLoading.start();\n                    this.loginModal = false;\n                    setTimeout(() => {\n                        this.$axios.post(\"http://localhost:8633/api/user/login\", this.ruleForm)\n                            .then(res => {\n                                this.$nextTick(() => {\n                                    console.log(res);\n                                    this.$Message.success(res.data.result);\n                                    localStorage.setItem(\"userToken\", res.data.token);\n                                    const decoded = jwt_decode(res.data.token);\n                                    this.$store.dispatch(\"setAuthorizated\", true);\n                                    this.$store.dispatch(\"setUser\", decoded);\n                                    wsmLoading.end();\n                                    this.ruleForm.account = \"\";\n                                    this.ruleForm.password = \"\";\n                                })\n                            }).catch(err => {\n                                this.loginModal = true;\n                                console.error(err.response)\n                            })\n                    }, 300)\n                }else{\n                    console.log(111)\n                }\n            })\n        },\n        // 下机\n        logout(){\n            this.$confirm(\"你确定要提前下机吗\", \"提示\", {\n                confirmButtonText:\"确定\",\n                cancleButtonText:\"取消\",\n                type:\"warning\"\n            }).then(() => {\n                wsmLoading.start(\"正在处理...\");\n                setTimeout(() => {\n                    this.$nextTick(() => {\n                        this.$store.dispatch(\"clearState\");\n                        this.$store.dispatch(\"setCurrentSong\", {id:0});\n                        this.$store.dispatch(\"songList\", []);\n                        this.$store.dispatch(\"playModle\", 1);\n                        this.$route.path == \"/home/index\" ? null : this.$router.push(\"/home/index\")\n                        this.$router.go(0);\n                        wsmLoading.end();\n                    })\n                }, 1000)\n            }).catch(() => {})\n        }\n    },\n    computed:{\n        isLogin(){\n            return this.$store.getters.isAuthorizated;\n        },\n        currentPoster(){\n            if(this.$store.getters.currentSong.poster){\n                return \"http://localhost:8633/api/music/poster?img=\" + this.$store.getters.currentSong.poster;\n            }else{\n                return  require(\"../assets/image/default-song-bg.jpg\");\n            }\n        },\n        currentSong:{\n            get(){\n                if(this.$store.getters.songList.length == 1){\n                    console.log(\"一首歌\")\n                    \n                    if(localStorage.play == \"0\"){\n                        $(\"#ios-play\").fadeIn();\n                        $(\"#ios-pause\").fadeOut();\n                    }else{\n                        $(\"#ios-play\").fadeOut();\n                        $(\"#ios-pause\").fadeIn();\n                    }\n                }else{\n                    if(localStorage.play == \"0\"){\n                        setTimeout(() => {\n                            document.getElementById(\"musicPlayer\").pause();\n                        }, 10)\n                        $(\"#ios-play\").fadeIn();\n                        $(\"#ios-pause\").fadeOut();\n                    }else{\n                        setTimeout(() => {\n                            document.getElementById(\"musicPlayer\").play();\n                        }, 10)\n                        $(\"#ios-play\").fadeOut();\n                        $(\"#ios-pause\").fadeIn();\n                    }\n                }\n                this.nextSong = nextSong();\n                return this.$store.getters.currentSong;\n            },\n            set(val){\n                this.$store.dispatch(\"setCurrentSong\", val);\n            }\n        }\n    }\n}\n</script>\n<style lang=\"less\" scoped>\n.topNav{\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    perspective:1200px;\n\n    .container{\n        width: 80%;\n        height: 100%;\n        border-top-right-radius: 20px;\n        border-top-left-radius: 20px;\n        padding: 0px 40px;\n        background-image: linear-gradient(141deg,rgb(173, 38, 38) 0%,rgb(204, 30, 30) 75%);\n        transform: rotateX(30deg);\n        perspective:1200px;\n        z-index: 2;\n    }\n    .inner-box{\n        height: 90%;\n        width: 75%;\n        position: absolute;\n        z-index: 4;\n        background-color: transparent;\n        display: flex;\n\n        .left{\n            flex: 1;\n            height: 100%;\n            width: 100%;\n            display: flex;\n\n            .home,.selected,.addvolume,.reducevolume{\n                height: 100%;\n                flex: 1;\n                font-size: 50px;\n                text-align: center;\n                color: rgb(196, 196, 26);\n                div{\n                    font-size: 20px;\n                }\n                cursor: pointer;\n            }\n\n            .selected,.selected,.addvolume,.reducevolume{\n                color: rgb(219, 217, 217);\n                &:hover{\n                    color: rgb(196, 196, 26);\n                }\n            }\n        }\n        .middle{\n            flex: 1;\n            height: 100%;\n            width: 100%;\n            display: flex;\n            padding: 3px 50px;\n            align-items: center;\n            justify-content: center;\n            position: relative;\n            img{\n                width: 100%;\n                height: 100%;\n                border-radius: 5px;\n                filter: blur(1px);\n                z-index: 2;\n            }\n            &:hover{\n                .control-btn{\n                    display: flex;\n                }\n            }\n\n            .control-btn{\n                position: absolute;\n                width: 78%;\n                height: 100%;\n                z-index: 20;\n                background-color: rgba(0, 0, 0, .3);\n                display: none;\n\n                .prev-btn, .play, .next-btn{\n                    flex: 1;\n                    text-align: center;\n                    line-height: 110px;\n                    font-size: 60px;\n                    color: rgb(220, 225, 228);\n                    cursor: pointer;\n\n                    &:hover{\n                        transform: scale(1.02);\n                        color: rgb(120, 129, 138);\n                    }\n                }\n                .prev-btn{\n                    text-align: left;\n                    padding-left: 10px;\n                }\n                .next-btn{\n                    text-align: right;\n                    padding-right: 10px;\n                }\n            }\n        }\n        .right{\n            flex: 1;\n            height: 100%;\n            width: 100%;\n            display: flex;\n\n            .minormax,.single-cycle, .order-cycle, .login{\n                height: 100%;\n                flex: 1;\n                font-size: 50px;\n                text-align: center;\n                color: rgb(35, 14, 153);\n                div{\n                    font-size: 20px;\n                }\n                cursor: pointer;\n            }\n            .single-cycle, .order-cycle, .minormax{\n                color: rgb(221, 222, 223);\n                &:hover{\n                    color: rgb(196, 196, 26);\n                }\n            }\n        }\n\n    }\n}\n</style>\n"]}]}