{"remainingRequest":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\src\\views\\abc.vue?vue&type=style&index=0&id=0f9bf538&lang=less&scoped=true&","dependencies":[{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\src\\views\\abc.vue","mtime":1585972675000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.ktvlikes{\n    width: 100%;\n    height: 100%;\n    // background-image: url(../assets/image/bg1.jpg);\n    // background-size: 100% 100%;\n    color: rgb(219, 217, 217);\n    position: relative;\n    overflow: hidden;\n    .search-box{\n        position: absolute;\n        padding: 15px 250px;\n        width: 100%;\n        z-index: 999;\n        background-image: linear-gradient(141deg, #8B4726 0%, #8B2323 51%, #8B1A1A 75%);\n    }\n\n    .wrapper{\n        position: absolute;\n        z-index: 100;\n        top: 0px;\n        width: 100%;\n        height: 100%;\n        overflow-y: scroll;\n        padding: 50px 100px;\n        z-index: 100;\n\n        .row-song{\n            border-radius: 30px;\n            &:hover{\n                background-color: rgba(0, 0, 0, .1);\n            }\n        }\n    }\n}\n::-webkit-scrollbar {\n      width: 6px;\n      height: 6px;\n  }\n  ::-webkit-scrollbar-track {\n      border-radius: 3px;\n      background: rgba(0,0,0,0.06);\n      -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.08);\n  }\n  /* 滚动条滑块 */\n  ::-webkit-scrollbar-thumb {\n      border-radius: 3px;\n      background: rgba(236, 233, 233, 0.1);\n      -webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.2);\n  }\n",{"version":3,"sources":["abc.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"abc.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"ktvlikes\">\n        <Row class=\"search-box\">\n            <Col :span=\"20\">\n                <Input v-model=\"searchSong\" @keypress.enter.native=\"fetchSongs\" placeholder=\"搜索歌曲(按歌名或歌手搜索)...\" clearable style=\"width: 300px\" />\n            </Col>\n            <Col :span=\"4\">\n                <Icon @click=\"getAllSongs\" type=\"md-refresh\" style=\"font-size:35px;cursor:pointer;\" />\n            </Col>\n        </Row>\n        <div class=\"wrapper\">\n            <Row style=\"padding:20px 150px;color:#fff;font-size:18px;font-weight:700;\">\n                <Col :span=\"3\" style=\"cursor:default;\">\n                    封面\n                </Col>\n                <Col :span=\"6\" style=\"cursor:default;padding-right:20px;\">\n                    歌曲\n                </Col>\n                <Col :span=\"6\" style=\"cursor:default;\">\n                    歌手\n                </Col>\n                <Col :span=\"4\" style=\"cursor:default;\">\n                    点播次数\n                </Col>\n                <Col :span=\"3\" style=\"text-align:center;cursor:pointer;\">\n                    播放列表\n                </Col>\n            </Row>\n            <Row class=\"row-song\" style=\"padding:20px 150px;\" v-for=\"(item, index) in allSongs\" :key=\"index\">\n                <Col :span=\"3\" style=\"cursor:default;\">\n                    <Avatar :src=\"'http://localhost:8633/api/music/poster?img=' + item.poster\" />\n                </Col>\n                <Col :span=\"6\" style=\"cursor:default;padding-right:20px;\">\n                    {{item.songName}}\n                </Col>\n                <Col :span=\"6\" style=\"cursor:default;\">\n                    {{item.artist}}\n                </Col>\n                <Col :span=\"4\" style=\"cursor:default;\">\n                    被点{{item.playcount}}次\n                </Col>\n                <Col :span=\"3\" @click.native=\"addSong(item)\" style=\"text-align:center;cursor:pointer;\">\n                    添加\n                </Col>\n            </Row>\n            <!-- 分页 -->\n            <Row>\n                <Col span=\"24\" style=\"text-align:right;padding:10px;\">\n                    <el-pagination\n                        v-if='paginations.total > 0'\n                        :page-sizes=\"paginations.page_sizes\"\n                        :page-size=\"paginations.page_size\"\n                        :layout=\"paginations.layout\"\n                        :total=\"paginations.total\"\n                        :current-page.sync='paginations.page_index'\n                        @current-change='handleCurrentChange'\n                        @size-change='handleSizeChange'>\n                    </el-pagination>\n                </Col>\n            </Row>\n        </div>\n    </div>\n</template>\n<script>\nimport isExit from '@/config/addSong'\nexport default {\n    name:\"abc\",\n    data(){\n        return{\n            searchSong:\"\",\n            allSongs:[],\n            allTableData:[],\n            paginations: {\n                page_index: 1, // 当前位于哪页\n                total: 0, // 总数\n                page_size: 8, // 1页显示多少条\n                page_sizes: [8, 15, 20, 25], //每页显示多少条\n                layout: \"total, sizes, prev, pager, next, jumper\" // 翻页属性\n            },\n        }\n    },\n    created(){\n        this.getAllSongs();\n    },\n    methods:{\n         // 添加歌曲\n        addSong(song){\n            isExit(song);\n        },\n        // 搜索歌曲\n        fetchSongs(){\n            if(this.searchSong.trim().length){\n                this.$axios.post(\"http://localhost:8633/api/music/search\", {\n                    searchName:this.searchSong\n                }).then(res => {\n                    console.log(res.data)\n                    this.allSongs = res.data;\n                    this.allTableData = res.data;\n                    this.setPaginations();\n                })\n            }else{\n                this.$confirm(\"输入内容不能为空,请重新输入~\", \"提示\", {\n                    confirmButtonText:\"确定\",\n                    cancleButtonText:\"取消\",\n                    type:\"warning\"\n                }).then(() => {\n\n                }).catch(() => {})\n            }\n        },\n        // 获取歌曲\n        getAllSongs(){\n            this.searchSong = \"\";\n            this.$axios.post(\"http://localhost:8633/api/music/all\")\n                .then(res => {\n                    this.allSongs = res.data;\n                    this.allTableData = res.data;\n                    this.setPaginations();\n                })\n        },\n        // 设置当前页\n        handleCurrentChange(page) {\n            // 获取当前页\n            let sortnum = this.paginations.page_size * (page - 1);\n            let table = this.allTableData.filter((item, index) => {\n                return index >= sortnum;\n            });\n            // 设置默认分页数据\n            this.allSongs = table.filter((item, index) => {\n                return index < this.paginations.page_size;\n            });\n            this.allSongs = table.filter((item, index) => {\n                return index < this.paginations.page_size;\n            });\n        },\n        // 改变每页条数\n        handleSizeChange(page_size) {\n            // 切换size\n            this.paginations.page_index = 1;\n            this.paginations.page_size = page_size;\n            this.allSongs = this.allTableData.filter((item, index) => {\n                return index < page_size;\n            });\n        },\n        // 设置的分页\n        setPaginations() {\n            // 总页数\n            this.paginations.total = this.allTableData.length;\n            this.paginations.page_index = 1;\n            this.paginations.page_size = 8;\n            // 设置默认分页数据\n            this.allSongs = this.allTableData.filter((item, index) => {\n                return index < this.paginations.page_size;\n            });\n        },\n    }\n}\n</script>\n<style lang=\"less\" scoped>\n.ktvlikes{\n    width: 100%;\n    height: 100%;\n    // background-image: url(../assets/image/bg1.jpg);\n    // background-size: 100% 100%;\n    color: rgb(219, 217, 217);\n    position: relative;\n    overflow: hidden;\n    .search-box{\n        position: absolute;\n        padding: 15px 250px;\n        width: 100%;\n        z-index: 999;\n        background-image: linear-gradient(141deg, #8B4726 0%, #8B2323 51%, #8B1A1A 75%);\n    }\n\n    .wrapper{\n        position: absolute;\n        z-index: 100;\n        top: 0px;\n        width: 100%;\n        height: 100%;\n        overflow-y: scroll;\n        padding: 50px 100px;\n        z-index: 100;\n\n        .row-song{\n            border-radius: 30px;\n            &:hover{\n                background-color: rgba(0, 0, 0, .1);\n            }\n        }\n    }\n}\n::-webkit-scrollbar {\n      width: 6px;\n      height: 6px;\n  }\n  ::-webkit-scrollbar-track {\n      border-radius: 3px;\n      background: rgba(0,0,0,0.06);\n      -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.08);\n  }\n  /* 滚动条滑块 */\n  ::-webkit-scrollbar-thumb {\n      border-radius: 3px;\n      background: rgba(236, 233, 233, 0.1);\n      -webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.2);\n  }\n</style>"]}]}