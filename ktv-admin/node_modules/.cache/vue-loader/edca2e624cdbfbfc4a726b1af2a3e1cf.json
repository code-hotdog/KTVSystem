{"remainingRequest":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-admin\\src\\views\\managemusic.vue?vue&type=template&id=2f1b5094&scoped=true&","dependencies":[{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-admin\\src\\views\\managemusic.vue","mtime":1585972675000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-admin\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\研课程\\ktv-select_music-system-master\\ktv-select_music-system-master\\ktv-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"managemusic\">\n    <audio ref=\"musicPlayer\" :src=\"toListenSrc\" @ended=\"ended\" autoplay preload=\"load\"></audio>\n    <Row style=\"padding:20px 60px 20px 40px;\">\n        <Col :span=\"5\">\n            <Input prefix=\"ios-musical-notes\" clearable v-model=\"searchName\" @keypress.enter.native=\"searchSong()\" placeholder=\"按 歌名, 歌手 搜索歌曲...\" style=\"width: auto\" />\n        </Col>\n        <Col :span=\"3\">\n            <Button type=\"primary\" style=\"margin-left:5px;\" @click=\"getAllSong()\">所有歌曲</Button>\n        </Col>\n        <Col :span=\"4\">\n            <Button type=\"success\" style=\"margin-left:5px;\" @click=\"toListen = true\">试听歌曲</Button>\n        </Col>\n        <Col :span=\"12\" style=\"text-align:right;\">\n            <Avatar id=\"musicPoster\" @click.native=\"operaMusic\" class=\"listen-poster\" v-if=\"toListenPoster\" :src=\"toListenPoster\" size=\"large\" style=\"margin-right:40px;\" />\n            <Button type=\"primary\" @click=\"showAddSongBtn()\">添加</Button>\n        </Col>\n    </Row>\n    <!-- 歌曲数据表 -->\n    <div style=\"width:100%;background-color:#f40;\">\n        <el-table\n            :data=\"allSongs\"\n            class=\"song-table\"\n            style=\"width: 100%\"\n            border\n        >\n            <el-table-column\n                type=\"index\"\n                label=\"序号\"\n                align=\"center\"\n                width=\"60\">\n            </el-table-column>\n            <el-table-column\n                prop=\"_id\"\n                label=\"歌曲 ID\"\n                align=\"center\"\n                width=\"240\">\n            </el-table-column>\n            <el-table-column\n                label=\"歌曲名\"\n                prop=\"songName\"\n                align=\"center\"\n                width=\"200\">\n            </el-table-column>\n            <el-table-column\n                prop=\"artist\"\n                label=\"歌手\"\n                align=\"center\"\n                width=\"170\">\n            </el-table-column>\n            <el-table-column\n                prop=\"src\"\n                align=\"center\"\n                width=\"200\"\n                label=\"歌曲地址\">\n            </el-table-column>\n            <el-table-column\n                align=\"center\"\n                width=\"120\"\n                label=\"歌曲封面\">\n                <template slot-scope='scope'>\n                    <Avatar :src=\"'http://localhost:8633/api/music/poster?img=' + scope.row.poster\" size=\"large\" />\n                </template>\n            </el-table-column>\n            <el-table-column\n                align=\"center\"\n                prop=\"language\"\n                width=\"120\"\n                label=\"语种\">\n            </el-table-column>\n            <el-table-column\n                align=\"center\"\n                prop=\"style\"\n                width=\"120\"\n                label=\"风格\">\n            </el-table-column>\n            <el-table-column\n                align=\"center\"\n                prop=\"playcount\"\n                width=\"80\"\n                label=\"播放次数\">\n            </el-table-column>\n            <el-table-column\n                align=\"center\"\n                prop=\"date\"\n                width=\"200\"\n                label=\"最近更新时间\">\n            </el-table-column>\n            <el-table-column\n                prop=\"operation\"\n                align='center'\n                label=\"操作\"\n                fixed=\"right\"\n                min-width=\"150\">\n                <template slot-scope='scope'>\n                    <el-button \n                        type=\"warning\"\n                        size=\"small\"\n                        circle\n                        icon=\"el-icon-star-off\"\n                        @click='likeSongs(scope.row)'\n                    ></el-button>\n                    <el-button \n                        type=\"primary\" \n                        icon=\"el-icon-edit\" \n                        size=\"small\"\n                        circle\n                        @click='onEditSong(scope.row)'\n                    ></el-button>\n                    <el-button \n                        type=\"danger\" \n                        icon='el-icon-delete' \n                        size=\"small\"\n                        circle\n                        @click='onDeleteSong(scope.row,scope.$index)'\n                    ></el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n    </div>\n    <!-- 分页 -->\n    <Row>\n        <Col span=\"24\" style=\"text-align:right;padding:10px;\">\n            <el-pagination\n                v-if='paginations.total > 0'\n                :page-sizes=\"paginations.page_sizes\"\n                :page-size=\"paginations.page_size\"\n                :layout=\"paginations.layout\"\n                :total=\"paginations.total\"\n                :current-page.sync='paginations.page_index'\n                @current-change='handleCurrentChange'\n                @size-change='handleSizeChange'>\n            </el-pagination>\n        </Col>\n    </Row>\n\n    <!-- 添加歌曲 -->\n    <el-dialog \n        :title=\"addDialog.title\" \n        :visible.sync=\"addDialog.show\"\n        :close-on-click-modal='false'\n        :close-on-press-escape='false'\n        :modal-append-to-body=\"false\">\n        <div class=\"form\">\n            <el-form \n                ref=\"addForm\" \n                :model=\"addForm\"\n                :rules=\"addForm_rules\"\n                label-width=\"120px\" \n                style=\"margin:10px;width:auto;\">\n                <el-form-item prop='songName' label=\"歌曲名:\">\n                    <el-input type=\"songName\" v-model=\"addForm.songName\"></el-input>\n                </el-form-item>\n                <el-form-item prop='artist'  label=\"歌手:\">\n                    <el-input type=\"artist\" v-model=\"addForm.artist\"></el-input>\n                </el-form-item>\n                <el-form-item prop='src' label=\"歌曲地址:\">\n                    <Upload action=\"http://localhost:8633/api/admin/upload/music\"\n                        :on-success=\"handleAddSongSuccess\"\n                        ref=\"uploadmusic\"\n                        :format=\"['mp3']\">\n                        <Button icon=\"ios-cloud-upload-outline\" @click.native=\"clearFiles\">上传歌曲</Button>\n                    </Upload>\n                </el-form-item>\n                <el-form-item label=\"歌曲封面:\" prop=\"poster\">\n                    <Upload\n                        :show-upload-list=\"false\"\n                        :format=\"['jpg','png']\"\n                        :max-size=\"10000\"\n                        multiple\n                        type=\"drag\"\n                        :on-success=\"handleAddPosterSuccess\"\n                        action=\"http://localhost:8633/api/admin/upload/poster\"\n                        style=\"display:block;width:44px;\">\n                        <span style=\"float:left;\">\n                            <Avatar :src=\"'http://localhost:8633/api/music/poster?img=' + addForm.poster\" size=\"large\" />\n                        </span>\n                    </Upload>\n                </el-form-item>\n                <el-form-item prop='language'  label=\"语种:\">\n                    <Select v-model=\"addForm.language\" clearable style=\"width:200px\">\n                        <Option v-for=\"item in Languages\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                    </Select>\n                </el-form-item>\n                <el-form-item prop='style'  label=\"风格:\">\n                    <Select v-model=\"addForm.style\" clearable style=\"width:200px\">\n                        <Option v-for=\"item in SongStyle\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                    </Select>\n                </el-form-item>\n                <el-form-item  class=\"text_right\">\n                    <el-button @click=\"addDialog.show = false\">取 消</el-button>\n                    <el-button type=\"primary\" @click='addSong(\"addForm\")'>提  交</el-button>\n                </el-form-item>\n            </el-form>\n        </div>\n    </el-dialog>\n\n    <!-- 编辑歌曲 -->\n    <el-dialog \n        :title=\"editDialog.title\" \n        :visible.sync=\"editDialog.show\"\n        :close-on-click-modal='false'\n        :close-on-press-escape='false'\n        :modal-append-to-body=\"false\">\n        <div class=\"form\">\n            <el-form \n                ref=\"editForm\" \n                :model=\"editForm\"\n                :rules=\"addForm_rules\"\n                label-width=\"120px\" \n                style=\"margin:10px;width:auto;\">\n                <el-form-item prop='_id' label=\"歌曲ID:\">\n                    <el-input type=\"id\" disabled v-model=\"editForm._id\"></el-input>\n                </el-form-item>\n                <el-form-item prop='songName' label=\"歌曲:\">\n                    <el-input type=\"songName\" v-model=\"editForm.songName\"></el-input>\n                </el-form-item>\n                <el-form-item prop='artist'  label=\"歌手:\">\n                    <el-input type=\"artist\" v-model=\"editForm.artist\"></el-input>\n                </el-form-item>\n                <el-form-item prop='src' label=\"歌曲地址:\">\n                    <Upload action=\"http://localhost:8633/api/admin/upload/music\"\n                        :on-success=\"handleEditSongSuccess\"\n                        ref=\"editmusic\"\n                        :format=\"['mp3']\">\n                        <Button icon=\"ios-cloud-upload-outline\">重新选择</Button>\n                    </Upload>\n                    <!-- <el-input type=\"src\" v-model=\"form.src\"></el-input> -->\n                </el-form-item>\n                <el-form-item label=\"歌曲封面:\" prop=\"pic\">\n                    <Upload\n                        :show-upload-list=\"false\"\n                        :format=\"['jpg','jpeg','png']\"\n                        :max-size=\"50000\"\n                        multiple\n                        type=\"drag\"\n                        :on-success=\"handleEditPosterSuccess\"\n                        action=\"http://localhost:8633/api/admin/upload/poster\"\n                        style=\"display:block;width:44px;\">\n                        <span style=\"float:left;\">\n                            <Avatar :src=\"'http://localhost:8633/api/music/poster?img='+ editForm.poster\" size=\"large\" />\n                        </span>\n                    </Upload>\n                </el-form-item>\n                <el-form-item prop='language'  label=\"语种:\">\n                    <Select v-model=\"editForm.language\" clearable style=\"width:200px\">\n                        <Option v-for=\"item in Languages\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                    </Select>\n                </el-form-item>\n                <el-form-item prop='style'  label=\"风格:\">\n                    <Select v-model=\"editForm.style\" clearable style=\"width:200px\">\n                        <Option v-for=\"item in SongStyle\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                    </Select>\n                </el-form-item>\n\n                <el-form-item  class=\"text_right\">\n                    <el-button @click=\"editDialog.show = false\">取 消</el-button>\n                    <el-button type=\"primary\" @click='okEditBtn(\"editForm\")'>提  交</el-button>\n                </el-form-item>\n\n            </el-form>\n        </div>\n    </el-dialog>\n\n    <!-- 验证密码 -->\n    <Modal draggable v-model=\"isCheckPassword\" :mask-closable=\"false\" width=\"360\">\n        <p slot=\"header\" style=\"color:#f60;\">\n            <Icon type=\"ios-information-circle\"></Icon>\n            <span>验证密码</span>\n        </p>\n        <div style=\"text-align:left;font-size:14px;\">\n            <Row>\n                <Col span=\"18\">\n                    <Input v-model=\"inputPassword\" type=\"password\" icon=\"ios-key\" @keyup.enter.native=\"checkPwd()\"  placeholder=\"请输入管理员密码...\" style=\"width: 200px\" />\n                </Col>\n                <Col span=\"6\">\n                    <Button type=\"primary\" size=\"large\" @click=\"checkPwd()\">验证</Button>\n                </Col>\n            </Row>\n        </div>\n        <div slot=\"footer\">\n        </div>\n    </Modal>\n\n    <!-- 音乐试听 -->\n    <Modal v-model=\"toListen\" width=\"700\">\n        <p slot=\"header\" style=\"color:#f60;text-align:center\">\n            <Icon type=\"ios-musical-notes\" />\n            <span> 点击试听</span>\n        </p>\n        <div v-if=\"toListen\">\n            <div style=\"width:100%;\">\n                <el-table\n                :data=\"allSongs\"\n                height=\"300\"\n                style=\"width: 100%\">\n                    <el-table-column\n                        prop=\"songName\"\n                        align=\"center\"\n                        width=\"200\"\n                        label=\"歌名\">\n                    </el-table-column>\n                    <el-table-column\n                        prop=\"artist\"\n                        align=\"center\"\n                        width=\"200\"\n                        label=\"歌手\">\n                    </el-table-column>\n                    <el-table-column\n                        align=\"center\"\n                        width=\"200\"\n                        label=\"试听\">\n                        <template slot-scope=\"scope\">\n                            <span class=\"toListen-link\" @click=\"listenMusic(scope.row)\">播放</span>\n                        </template>\n                    </el-table-column>\n                </el-table>\n            </div>\n        </div>\n        <div slot=\"footer\" v-if=\"toListen\" style=\"height:30px;\">\n            <Col span=\"24\" style=\"text-align:right;padding:0px 10px;\">\n                <el-pagination\n                    v-if='paginations.total > 0'\n                    :page-sizes=\"paginations.page_sizes\"\n                    :page-size=\"paginations.page_size\"\n                    :layout=\"paginations.layout\"\n                    :total=\"paginations.total\"\n                    :current-page.sync='paginations.page_index'\n                    @current-change='handleCurrentChange'\n                    @size-change='handleSizeChange'>\n                </el-pagination>\n            </Col>\n        </div>\n    </Modal>\n</div>\n",null]}